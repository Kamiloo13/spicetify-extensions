!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));(()=>{var e=class{constructor(){this.tasks=[],this.subCleanups=[]}AddTask(e,t){t&&this.Clean(t),this.tasks.push({id:t,task:e})}AddSubCleanup(e,t){return this.subCleanups.push({instance:e,id:t}),e}AddObserver(e,t){return this.AddTask(e.disconnect.bind(e),t),e}AddHtml(e,t){return this.AddTask(()=>{e.remove()},t),e}Clean(t){t?(this.tasks=this.tasks.filter(e=>e.id!==t||(e.task(),!1)),this.subCleanups=this.subCleanups.filter(e=>e.id!==t||(e.instance.Clean(),!1))):(this.tasks.forEach(e=>{e.task()}),this.subCleanups.forEach(e=>{e.instance.Clean()}),this.tasks=[])}},t=new e,r=!1;{let e,t;for(var a of document.getElementsByTagName("script"))a.src.includes("simple-beautiful-lyrics.js")&&(a.src.startsWith("https://xpui.app.spotify.com/")?void 0===t?t=a:a.remove():void 0===e?e=a:a.remove());void 0===t?e:(r=!0,void 0!==e&&e.remove(),t)}var s,i=!1,n=Spicetify.Player,o=Spicetify.showNotification,l=Spicetify.Platform,c=l?.History,d=Spicetify.Playbar,u=Spicetify.Snackbar,f=()=>{n=Spicetify.Player,o=Spicetify.showNotification,l=Spicetify.Platform,c=l?.History,d=Spicetify.Playbar,u=Spicetify.Snackbar,void 0!==n&&void 0!==o&&void 0!==l&&void 0!==c&&void 0!==d&&void 0!==u&&(i=!0)},y=class{constructor(){this.listeners=[]}Connect(e){return this.listeners.push(e),()=>this.Disconnect(e)}Disconnect(e){e=this.listeners.indexOf(e);-1<e&&this.listeners.splice(e,1)}Fire(){this.listeners.forEach(e=>e())}},h=new class{constructor(){this.SongChanged=new y,this.Started=!1}Start(){if(!0!==this.Started){this.Started=!0;let e=()=>{this.SongChanged.Fire()};n.addEventListener("songchange",e),t.AddTask(()=>n.removeEventListener("songchange",e)),void 0!==n.data&&e()}}},m=new y,v=1.25,g=40,p=new Map,b=(p.set("Default","brightness(0.5) saturate(2.5)"),p.set("SidePanel","brightness(1) saturate(2.25)"),new Map),C=e=>e.Default,w=async(e,c,d)=>{let i=C(e);return new Promise((e,t)=>{let r=new Image;r.onload=()=>e(r),r.onerror=t,r.src=i}).then(e=>{var t,r=[];for(t of d){var a=t,s=t,i=new OffscreenCanvas(a,s),n=i.getContext("2d"),o=i.width/2,l=i.height/2,l=(n.beginPath(),n.arc(o,l,o,0,2*Math.PI),n.clip(),n.drawImage(e,0,0,a,s),new OffscreenCanvas(Math.round(a*v),Math.round(s*v))),o=l.getContext("2d"),n=l.width/2,a=l.height/2,s=p.get(c)??p.get("Default");o.filter=s+` blur(${g}px)`,o.drawImage(i,n-i.width/2,a-i.height/2),r.push(l.convertToBlob({type:"image/webp",quality:1}))}return Promise.all(r)}).then(t=>{let e=b.get(i);void 0===e&&(e=new Map,b.set(i,e));var r=e.get(c);if(void 0!==r)for(var a of r.values())URL.revokeObjectURL(a);var s=new Map;for(let e=0;e<t.length;e++)s.set(d[e],URL.createObjectURL(t[e]));return s})},S=(e,t,r)=>{e=C(e),e=b.get(e);if(void 0!==e){var a=e.get(t);if(void 0!==a){for(var s of r)if(!1===a.has(s))return;return a}}},k=()=>{var e=n.data.item.metadata,e={Large:e.image_xlarge_url,Big:e.image_large_url,Default:e.image_url,Small:e.image_small_url};e.Default!==s?.Default&&(s=e,m.Fire())},L=()=>s,A=class{static findSetIndex(e){var t=A.ComponentClasses[e];for(let e=0;e<t.length;e++)if(document.body.querySelector("."+t[e]))return void(A.SetIndex=e)}static getComponent(e){return-1===A.SetIndex&&A.findSetIndex(e),document.body.querySelector("."+A.ComponentClasses[e][A.SetIndex])}static checkClassNamesMatch(e,t){-1===A.SetIndex&&A.findSetIndex(t);t=A.ComponentClasses[t][A.SetIndex];return e.contains(t)}},x=A,O=(x.ComponentClasses={FullScreenLyricsBackgroundClass:["lyrics-lyrics-background","o4GE4jG5_QICak2JK_bn","L9xhJOJnV2OL5Chm3Jew"],FullScreenLyricsContainerClass:["lyrics-lyrics-contentWrapper","_Wna90no0o0dta47Heiw","esRByMgBY3TiENAsbDHA"],LyricClass:["lyrics-lyricsContent-lyric","nw6rbs8R08fpPn7RWW2w","NiCdLCpp3o2z6nBrayOn"],UnsyncedLyricClass:["lyrics-lyricsContent-unsynced","SruqsAzX8rUtY2isUZDF","HxblHEsl2WX2yhubfVIc"],HighlightedLyricClass:["lyrics-lyricsContent-highlight","aeO5D7ulxy19q4qNBrkk","MEjuIn9iTBQbnCqHpkoQ"],ActiveLyricClass:["lyrics-lyricsContent-active","EhKgYshvOwpSrTv399Mw","arY01KDGhWNgzlAHlhpd"]},x.SetIndex=-1,x),M=[];var E=function(e,t){return e=setTimeout(()=>{t()},1e3*e),M.push(e),function(e){clearTimeout(e);e=M.indexOf(e);-1<e&&M.splice(e,1)}.bind(null,e)},N=!1,z=[2,3],H=["lyrics-background-color","lyrics-background-back","lyrics-background-back-center"],F=[0,0,1],_=.25,T=t.AddSubCleanup(new e,"LiveBackgrounds"),U=e=>{let i=T.AddHtml(document.createElement("div")),n=(i.classList.add("lyrics-background-container"),[]);for(var t of H){var r=T.AddHtml(document.createElement("img"));r.classList.add(t),i.appendChild(r),n.push(r)}let o;if(N){let a=[],s=e=>{for(var[t,r]of n.entries())r.src=e?e.get(a[F[t]])??"MISSING":""},e=(o=()=>{let t=L();if(void 0===t)return s();for(var e of n)e.src=t.Default;var r=S(t,"LyricsPlusFullScreen",a);void 0===r?w(t,"LyricsPlusFullScreen",a).then(e=>{t===L()&&s(e)}):s(r)},()=>{var e,t=i.offsetWidth,r=[];for(e of z)r.push(Math.floor(t*e));a=r,o()});T.AddObserver(new ResizeObserver(()=>T.AddTask(E(_,e),"ContainerResize"))).observe(i),e()}else o=()=>{var e,t=L()?.Default??"";for(e of n)e.src=t};T.AddTask(m.Connect(o)),o();var a=()=>{e.classList.contains("lyrics-background")||e.classList.add("lyrics-background")};a(),T.AddObserver(new MutationObserver(a)).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),e.prepend(i),T.AddTask(()=>e.classList.remove("lyrics-background"))},D=null,B=()=>{var e=O.getComponent("FullScreenLyricsBackgroundClass");D!==e&&(null===e?(D=null,T.Clean()):((D=e).style.display="none",U(e?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.querySelector(".under-main-view"))))},W=4,q=.5,Y=.25,j=.005,R=t.AddSubCleanup(new e,"Lyrics"),G=s=>{let n=new Map,i=0,o=(e,t)=>{e.style.fontSize="Active"==t.State?i+q+"rem":""},e=()=>{let t=0;for(var[e,r]of n){e=e.classList;O.checkClassNamesMatch(e,"ActiveLyricClass")?(r.State="Active",t=r.LayoutOrder):O.checkClassNamesMatch(e,"UnsyncedLyricClass")?r.State="Unsynced":O.checkClassNamesMatch(e,"HighlightedLyricClass")?r.State="Sung":r.State="Unsung"}for(var[a,s]of n){var i="Active"===s.State||"Unsynced"===s.State;let e;e=i||t<=1?0:Math.min(Math.abs(s.LayoutOrder-t),W);i=i?"var(--lyrics-color-active)":"Sung"===s.State?"var(--lyrics-color-passed)":"var(--lyrics-color-inactive)";o(a,s),a.style.color="transparent",a.style.textShadow=`0 0 ${e}px `+i}},t=()=>{var e,t,r=getComputedStyle(s),a=getComputedStyle(document.documentElement),r=parseFloat(r.fontSize),a=parseFloat(a.fontSize);i=r/a;for([e,t]of n)o(e,t)};var r,a,l;for(r of s.childNodes)r instanceof HTMLDivElement&&O.checkClassNamesMatch(r.classList,"LyricClass")&&(a=r,l=void 0,l=Array.from(s.children).indexOf(a),R.AddObserver(new MutationObserver(()=>R.AddTask(E(j,e),"LyricUpdate"))).observe(a,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),n.set(a,{LayoutOrder:l,State:"Unsung"}));R.AddObserver(new ResizeObserver(()=>R.AddTask(E(Y,t),"ContainerResize"))).observe(document.body),t(),e()},I=null,P=()=>{var e=O.getComponent("FullScreenLyricsContainerClass");I!==e&&(I=null,R.Clean(),e)&&G(I=e)};var K=async function(){for(;!i&&!f();)await new Promise(e=>setTimeout(e,100));r||(t.AddTask(h.SongChanged.Connect(k)),k(),h.Start(),t.AddObserver(new MutationObserver(()=>{B(),P()})).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),B(),t.AddTask(h.SongChanged.Connect(()=>I=null)),P())};(async()=>{await K()})()})();(async()=>{var e;document.getElementById("simpleDbeautifulDlyrics")||((e=document.createElement("style")).id="simpleDbeautifulDlyrics",e.textContent=String.raw`
  .lyrics-lyricsContent-lyric:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important}.lyrics-lyricsContent-lyric{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important}.nw6rbs8R08fpPn7RWW2w:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important}.nw6rbs8R08fpPn7RWW2w{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important}.NiCdLCpp3o2z6nBrayOn:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important}.NiCdLCpp3o2z6nBrayOn{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important}.lyrics-lyricsContent-active{margin-top:.25em;margin-bottom:.25em}.EhKgYshvOwpSrTv399Mw{margin-top:.25em;margin-bottom:.25em}.arY01KDGhWNgzlAHlhpd{margin-top:.25em;margin-bottom:.25em}.Root__main-view:has(.lyrics-background) .os-scrollbar,.os-host:has(.lyrics-background) .os-scrollbar{padding:5px}.Root__main-view:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle,.os-host:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle{mix-blend-mode:overlay;background-color:rgba(252,249,249,.117)!important}.lyrics-background{overflow:hidden;position:static}.lyrics-background-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;filter:saturate(1.5) brightness(.8)}.lyrics-background-back,.lyrics-background-back-center,.lyrics-background-color{position:absolute;width:200%;animation:rotate 35s linear infinite;filter:blur(40px);border-radius:100em}.lyrics-background-color{right:0;top:0;z-index:10}.lyrics-background-back{left:0;bottom:0;z-index:1;animation-direction:reverse}.lyrics-background-back-center{z-index:0;width:300%;right:-50%;top:-20%;animation-direction:reverse}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}:root{--beautiful-lyrics-random-degree:258deg}@keyframes rotate{0%{transform:rotate(var(--beautiful-lyrics-random-degree))}100%{transform:rotate(calc(var(--beautiful-lyrics-random-degree) + 360deg))}}@font-face{font-family:BeautifulLyrics;font-weight:400;src:url(https://fonts.socalifornian.live/LyricsRegular.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:500;src:url(https://fonts.socalifornian.live/LyricsMedium.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:600;src:url(https://fonts.socalifornian.live/LyricsSemibold.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:700;src:url(https://fonts.socalifornian.live/LyricsBold.woff2) format("woff2")}.lyrics-lyricsContent-text{font-family:BeautifulLyrics!important}
      `.trim(),document.head.appendChild(e))})()}();