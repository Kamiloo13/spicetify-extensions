(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var e=class{constructor(){this.tasks=[],this.subCleanups=[]}AddTask(e,t){t&&this.Clean(t),this.tasks.push({id:t,task:e})}AddSubCleanup(e,t){return this.subCleanups.push({instance:e,id:t}),e}AddObserver(e,t){return this.AddTask(e.disconnect.bind(e),t),e}AddHtml(e,t){return this.AddTask(()=>{e.remove()},t),e}Clean(t){t?(this.tasks=this.tasks.filter(e=>e.id!==t||(e.task(),!1)),this.subCleanups=this.subCleanups.filter(e=>e.id!==t||(e.instance.Clean(),!1))):(this.tasks.forEach(e=>{e.task()}),this.subCleanups.forEach(e=>{e.instance.Clean()}),this.tasks=[])}},i=new e,r=!1;{let e,t;for(var a of document.getElementsByTagName("script"))a.src.includes("simple-beautiful-lyrics.js")&&(a.src.startsWith("https://xpui.app.spotify.com/")?void 0===t?t=a:a.remove():void 0===e?e=a:a.remove());void 0===t?e:(r=!0,void 0!==e&&e.remove(),t)}var t,s=!1,o=Spicetify.Player,n=Spicetify.showNotification,c=Spicetify.Platform,l=c?.History,d=Spicetify.Playbar,u=Spicetify.Snackbar,m=()=>{o=Spicetify.Player,n=Spicetify.showNotification,l=(c=Spicetify.Platform)?.History,d=Spicetify.Playbar,u=Spicetify.Snackbar,void 0!==o&&void 0!==n&&void 0!==c&&void 0!==l&&void 0!==d&&void 0!==u&&(s=!0)},y=class{constructor(){this.listeners=[]}Connect(e){return this.listeners.push(e),()=>this.Disconnect(e)}Disconnect(e){e=this.listeners.indexOf(e);-1<e&&this.listeners.splice(e,1)}Fire(){this.listeners.forEach(e=>e())}},f=new class{constructor(){this.SongChanged=new y,this.Started=!1}Start(){if(!0!==this.Started){this.Started=!0;let e=()=>{this.SongChanged.Fire()};o.addEventListener("songchange",e),i.AddTask(()=>o.removeEventListener("songchange",e)),void 0!==o.data&&e()}}},p=new y,g=new Map,h=(g.set("Default","brightness(0.5) saturate(2.5)"),g.set("SidePanel","brightness(1) saturate(2.25)"),15),b=0,v=()=>{var e;!o.data&&b<h?(setTimeout(v,100),b++):(b=0,(e=o.data?.item?.metadata)?(e={Large:e.image_xlarge_url,Big:e.image_large_url,Default:e.image_url,Small:e.image_small_url}).Default!==t?.Default&&(t=e,p.Fire()):console.warn("No metadata available for the current track.",o.data))},S=()=>t,C=class{static findSetIndex(e,i=document.body){var r=C.ComponentClasses[e];if(r?.length)if(1===r.length)C.SetIndexMap[e]=0;else{let t=i.querySelector(C.ComponentSelectors[e]);if(t){i=r.findIndex(e=>t.classList.contains(e));if(-1!==i)return C.SetIndexMap[e]=i,void(C.ElementCache[e]=t)}r=(C.SetIndexMapTries[e]??0)+1;C.SetIndexMapTries[e]=r,C.MaxTries<=r&&(console.warn(`[SBL]: Failed to find class for ${e} after ${C.MaxTries} tries. Assuming default class.`),C.SetIndexMap[e]=0)}}static getComponent(e,t=document.body){var i=C.ElementCache[e];return i&&t.contains(i)?i:void 0===C.SetIndexMap[e]&&(C.findSetIndex(e,t),void 0===C.SetIndexMap[e])?null:(i=t.querySelector("."+C.ComponentClasses[e][C.SetIndexMap[e]]),C.ElementCache[e]=i)}static getComponents(e,t=document.body){return void 0===C.SetIndexMap[e]&&(C.findSetIndex(e,t),void 0===C.SetIndexMap[e])?document.createDocumentFragment().childNodes:t.querySelectorAll("."+C.ComponentClasses[e][C.SetIndexMap[e]])}static checkClassNamesMatch(t,e){return C.ComponentClasses[e].some(e=>t.contains(e))}},k=((g=C).ComponentClasses={FullScreenLyricsBackgroundClass:["lyrics-lyrics-background","RFThkjLuWfPUO9shrMOZ"],FullScreenLyricsContainerClass:["lyrics-lyrics-contentWrapper","t_dtt9KL1wnNRvRO_y5L"],MainLyricsContainerClass:["lyrics-lyrics-container","lofIAg8Ixko3mfBrbfej"],CinemaModeBackgroundToRemove:["x81eiLoZ5zWkSS1y28Oj"],CinemaModeContainerToInjectBackground:["x0lJCeJrx_56dJTWdATl"],LyricClass:["lyrics-lyricsContent-lyric","o69qODXrbOkf6Tv7fa51"],UnsyncedLyricClass:["lyrics-lyricsContent-unsynced","eTLjCqbDo7QehPEPz86a"],HighlightedLyricClass:["lyrics-lyricsContent-highlight","ve52ddYhoAd3Xf27Zxfm"],ActiveLyricClass:["lyrics-lyricsContent-active","_gZrl2ExJwyxPy1pEUG2"]},g.ComponentSelectors=Object.fromEntries(Object.entries(C.ComponentClasses).map(([e,t])=>[e,t.map(e=>"."+e).join(", ")])),g.SetIndexMap={},g.ElementCache={},g.SetIndexMapTries={},g.MaxTries=1e3,g),L=[],x=function(e,t){return e=setTimeout(()=>{t()},1e3*e),L.push(e),function(e){clearTimeout(e);e=L.indexOf(e);-1<e&&L.splice(e,1)}.bind(null,e)},w=4,M=.5,T=.25,_=.005,A=i.AddSubCleanup(new e,"Lyrics"),F=a=>{let o=new Map,s=0,n=(e,t)=>{e.style.fontSize="Active"==t.State?s+M+"rem":""},e=()=>{let t=0;for(var[e,i]of o){e=e.classList;k.checkClassNamesMatch(e,"ActiveLyricClass")?(i.State="Active",t=i.LayoutOrder):k.checkClassNamesMatch(e,"UnsyncedLyricClass")?i.State="Unsynced":k.checkClassNamesMatch(e,"HighlightedLyricClass")?i.State="Sung":i.State="Unsung"}for(var[r,a]of o){var s="Active"===a.State||"Unsynced"===a.State;let e;e=s||t<=1?0:Math.min(Math.abs(a.LayoutOrder-t),w);s=s?"var(--lyrics-color-active)":"Sung"===a.State?"var(--lyrics-color-passed)":"var(--lyrics-color-inactive)";n(r,a),r.style.color="transparent",r.style.textShadow=`0 0 ${e}px `+s}},t=()=>{var e,t,i=getComputedStyle(a),r=getComputedStyle(document.documentElement),i=parseFloat(i.fontSize),r=parseFloat(r.fontSize);s=i/r;for([e,t]of o)n(e,t)};var i,r,c;for(i of a.childNodes)i instanceof HTMLDivElement&&k.checkClassNamesMatch(i.classList,"LyricClass")&&(r=i,c=void 0,c=Array.from(a.children).indexOf(r),A.AddObserver(new MutationObserver(()=>A.AddTask(x(_,e),"LyricUpdate"))).observe(r,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),o.set(r,{LayoutOrder:c,State:"Unsung"}));A.AddObserver(new ResizeObserver(()=>A.AddTask(x(T,t),"ContainerResize"))).observe(document.body),t(),e()},O=null,E=e=>{e=e?k.getComponent("FullScreenLyricsContainerClass",e):null;O!==e&&(O=null,A.Clean(),e)&&F(O=e)},N=["lyrics-background-color","lyrics-background-back","lyrics-background-back-center"],I=i.AddSubCleanup(new e,"LiveMainBackgrounds"),D=e=>{var t,i=I.AddHtml(document.createElement("div"));i.classList.add("lyrics-background-container");let r=[];for(t of N){var a=I.AddHtml(document.createElement("img"));a.classList.add(t),i.appendChild(a),r.push(a)}var s=()=>{var e,t=S()?.Default??"";for(e of r)e.src=t},s=(I.AddTask(p.Connect(s)),s(),()=>{e.classList.contains("lyrics-background")||e.classList.add("lyrics-background")});s(),I.AddObserver(new MutationObserver(s)).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),e.prepend(i),I.AddTask(()=>e.classList.remove("lyrics-background"))},R=null,j=null,B=e=>{var t=e?k.getComponent("FullScreenLyricsBackgroundClass",e):null;R!==t&&(null===t?(R=null,I.Clean()):(R=t,t=e?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.querySelector(".before-scroll-node"),j&&j!==e&&I.Clean(),j=e,t?D(t):(e=k.getComponent("CinemaModeContainerToInjectBackground",document.body))&&(t=I.AddHtml(document.createElement("div")),e.prepend(t),D(t))))},P=async function(){if(!r){for(;!s&&!m();)await new Promise(e=>setTimeout(e,100));if(Spicetify.LocalStorage.remove("simple-beautiful-lyrics:cache-lyrics"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.api-endpoint"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.api-input-endpoint"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.api-token"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.api-token-input"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.cache-version"),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.enable-debug"),1==JSON.parse(Spicetify.LocalStorage.get("simple-beautiful-lyrics.override-fetch")||"{}")?.value&&!Spicetify.LocalStorage.get("more-lyrics.cache-version")){var e=["m","a","rket","place:insta","lled:Kamiloo13/spicetify-extensions/extensions/more-lyrics/dist/more-lyrics.js"].join(""),t=JSON.parse(Spicetify.LocalStorage.get(["m","a","rket","place:instal","led-extensions"].join(""))||"[]");if(!t.includes(e)&&0<t.length)return t.push(e),Spicetify.LocalStorage.set(["m","a","rket","place:instal","led-extensions"].join(""),JSON.stringify(t)),Spicetify.LocalStorage.set(e,'{"manifest":{"name":"More Lyrics","description":"More lyrics providers for the default Lyrics Page (uses official Spotify scripts for display).","preview":"extensions/more-lyrics/preview.png","main":"extensions/more-lyrics/dist/more-lyrics.js","readme":"extensions/more-lyrics/README.md","authors":[{"name":"Kamiloo13","url":"https://github.com/kamiloo13"}],"tags":["lyrics","more providers","community lyrics"]},"type":"extension","title":"More Lyrics","subtitle":"More lyrics providers for the default Lyrics Page (uses official Spotify scripts for display).","authors":[{"name":"Kamiloo13","url":"https://github.com/kamiloo13"}],"user":"Kamiloo13","repo":"spicetify-extensions","branch":"main","imageURL":"https://raw.githubusercontent.com/Kamiloo13/spicetify-extensions/main/extensions/more-lyrics/preview.png","extensionURL":"https://raw.githubusercontent.com/Kamiloo13/spicetify-extensions/main/extensions/more-lyrics/dist/more-lyrics.js","readmeURL":"https://raw.githubusercontent.com/Kamiloo13/spicetify-extensions/main/extensions/more-lyrics/README.md","stars":11,"lastUpdated":"2025-09-29T04:01:42Z","created":"2024-04-20T05:01:46Z"}'),Spicetify.LocalStorage.remove("simple-beautiful-lyrics.override-fetch"),void window.location.reload();Spicetify.LocalStorage.remove("simple-beautiful-lyrics.override-fetch"),Spicetify.showNotification('Simple Beautiful Lyrics: Feature adding more lyrics providers to Spotify page has been moved to "More Lyrics" extension.\nIf you want to continue using this feature, please install the "More Lyrics" extension.\nThis warning will disappear in 15 seconds and will never appear again.',!0,15e3)}i.AddTask(f.SongChanged.Connect(v)),v(),f.Start();i.AddObserver(new MutationObserver(()=>{var e=k.getComponents("MainLyricsContainerClass",document.body),e=1==e.length?e[0]:1<e.length?e[1]:null;B(e),E(e)})).observe(document.body,{attributes:!1,childList:!0,subtree:!0});var t=k.getComponents("MainLyricsContainerClass",document.body),e=1==t.length?t[0]:1<t.length?t[1]:null;B(e),t=e,i.AddTask(f.SongChanged.Connect(()=>O=null)),E(t)}};(async()=>{await P()})(),(async()=>{var e;document.getElementById("simpleDbeautifulDlyrics")||((e=document.createElement("style")).id="simpleDbeautifulDlyrics",e.textContent=String.raw`
  @font-face{font-family:BeautifulLyrics;font-weight:400;src:url(https://fonts.socalifornian.live/LyricsRegular.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:500;src:url(https://fonts.socalifornian.live/LyricsMedium.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:600;src:url(https://fonts.socalifornian.live/LyricsSemibold.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:700;src:url(https://fonts.socalifornian.live/LyricsBold.woff2) format("woff2")}.MmIREVIj8A2aFVvBZ2Ev,.lyrics-lyricsContent-text{font-family:BeautifulLyrics,var(--encore-body-font-stack, var(--fallback-fonts, sans-serif)),sans-serif!important}.lyrics-lyrics-contentWrapper,.t_dtt9KL1wnNRvRO_y5L{--encore-text-size-larger-3:2.4rem;width:min(100% - 128px,1024px + 10%)!important}:root{--sbl-lyrics-background-gradient:linear-gradient(90deg, rgba(10, 10, 10, 0.54), rgba(0, 0, 0, 0))}.lyrics-lyricsContent-lyric:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important;text-decoration:none!important}.lyrics-lyricsContent-lyric{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important;font-weight:700;margin-bottom:.5em!important}.o69qODXrbOkf6Tv7fa51:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important;text-decoration:none!important}.o69qODXrbOkf6Tv7fa51{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important;font-weight:700;margin-bottom:.5em!important}.lyrics-lyricsContent-active{margin-top:-.25em!important;margin-bottom:.25em!important}._gZrl2ExJwyxPy1pEUG2{margin-top:-.25em!important;margin-bottom:.25em!important}.lyrics-lyrics-background{background-color:transparent!important;background-image:var(--sbl-lyrics-background-gradient)!important;background-size:cover;background-repeat:no-repeat}.RFThkjLuWfPUO9shrMOZ{background-color:transparent!important;background-image:var(--sbl-lyrics-background-gradient)!important;background-size:cover;background-repeat:no-repeat}.x81eiLoZ5zWkSS1y28Oj{animation:background-fadeout 2s ease-in-out forwards}.Root__main-view:has(.lyrics-background) .os-scrollbar,.os-host:has(.lyrics-background) .os-scrollbar{padding:5px}.Root__main-view:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle,.os-host:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle{mix-blend-mode:overlay;background-color:rgba(252,249,249,.117)!important}.lyrics-background{overflow:hidden;position:static}.lyrics-background-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;filter:saturate(1.5) brightness(.8)}.lyrics-background-back,.lyrics-background-back-center,.lyrics-background-color{position:absolute;width:200%;animation:rotate 35s linear infinite;filter:blur(40px);border-radius:100em}.lyrics-background-color{right:0;top:0;z-index:10}.lyrics-background-back{left:0;bottom:0;z-index:1;animation-direction:reverse}.lyrics-background-back-center{z-index:0;width:300%;right:-50%;top:-20%;animation-direction:reverse}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes background-fadeout{0%{opacity:1}100%{opacity:0}}
      `.trim(),document.head.appendChild(e))})()})();