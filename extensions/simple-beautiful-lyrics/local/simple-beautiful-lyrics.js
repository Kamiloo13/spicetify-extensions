(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var t,D,r,R,s,P,V,e,a,j,i,n,o,l,c,H,$,J,q,z,U,d,u,f,G,p,m,W,y,h,g,X,Z,K,Q,Y,b,ee,v,te,ae,S,k,ie,ne,C,w,L,re,se,oe,x,le,ce,de,ue,T,E,fe,I,F,O,N,pe,me,ye,M,A,_,he,ge,be,B,ve,Se;D=Object.create,r=Object.defineProperty,R=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,P=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty,a=(e,t,a)=>(a=null!=e?D(P(e)):{},((t,a,i,n)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let e of s(a))V.call(t,e)||e===i||r(t,e,{get:()=>a[e],enumerable:!(n=R(a,e))||n.enumerable});return t})(!t&&e&&e.__esModule?a:r(a,"default",{value:e,enumerable:!0}),e)),j=(e=(e,t)=>function(){return t||(0,e[s(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),e=e({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}}),n=new(i=class{constructor(){this.tasks=[],this.subCleanups=[]}AddTask(e,t){t&&this.Clean(t),this.tasks.push({id:t,task:e})}AddSubCleanup(e,t){return this.subCleanups.push({instance:e,id:t}),e}AddObserver(e,t){return this.AddTask(e.disconnect.bind(e),t),e}AddHtml(e,t){return this.AddTask(()=>{e.remove()},t),e}Clean(t){t?(this.tasks=this.tasks.filter(e=>e.id!==t||(e.task(),!1)),this.subCleanups=this.subCleanups.filter(e=>e.id!==t||(e.instance.Clean(),!1))):(this.tasks.forEach(e=>{e.task()}),this.subCleanups.forEach(e=>{e.instance.Clean()}),this.tasks=[])}}),o=!1,l=Spicetify.Player,c=Spicetify.showNotification,$=(H=Spicetify.Platform)?.History,J=Spicetify.Playbar,q=Spicetify.Snackbar,z=()=>{l=Spicetify.Player,c=Spicetify.showNotification,$=(H=Spicetify.Platform)?.History,J=Spicetify.Playbar,q=Spicetify.Snackbar,void 0!==l&&void 0!==c&&void 0!==H&&void 0!==$&&void 0!==J&&void 0!==q&&(o=!0)},U=class{constructor(){this.listeners=[]}Connect(e){return this.listeners.push(e),()=>this.Disconnect(e)}Disconnect(e){e=this.listeners.indexOf(e);-1<e&&this.listeners.splice(e,1)}Fire(){this.listeners.forEach(e=>e())}},d=new class{constructor(){this.SongChanged=new U,this.Started=!1}Start(){if(!0!==this.Started){this.Started=!0;let e=()=>{this.SongChanged.Fire()};l.addEventListener("songchange",e),n.AddTask(()=>l.removeEventListener("songchange",e)),void 0!==l.data&&e()}}},u=new U,(f=new Map).set("Default","brightness(0.5) saturate(2.5)"),f.set("SidePanel","brightness(1) saturate(2.25)"),G=15,p=0,m=()=>{var e;!l.data&&p<G?(setTimeout(m,100),p++):(p=0,(e=l.data?.item?.metadata)?(e={Large:e.image_xlarge_url,Big:e.image_large_url,Default:e.image_url,Small:e.image_small_url}).Default!==t?.Default&&(t=e,u.Fire()):console.warn("No metadata available for the current track.",l.data))},W=()=>t,(f=y=class{static findSetIndex(t){var a=y.ComponentClasses[t];for(let e=0;e<a.length;e++)if(document.body.querySelector("."+a[e]))return void(y.SetIndexMap[t]=e);y.SetIndexMapTries[t]=(y.SetIndexMapTries[t]||0)+1,y.SetIndexMapTries[t]>=y.SetIndexMapMaxTries&&(console.warn(`Failed to find class for ${t} after ${y.SetIndexMapMaxTries} tries. Assuming default class.`),y.SetIndexMap[t]=0)}static getComponent(e,t=document.body){return void 0===y.SetIndexMap[e]&&y.findSetIndex(e),void 0===y.SetIndexMap[e]?null:t.querySelector("."+y.ComponentClasses[e][y.SetIndexMap[e]])}static getComponents(e,t=document.body){return void 0===y.SetIndexMap[e]&&y.findSetIndex(e),void 0===y.SetIndexMap[e]?document.createDocumentFragment().childNodes:t.querySelectorAll("."+y.ComponentClasses[e][y.SetIndexMap[e]])}static checkClassNamesMatch(e,t){return void 0===y.SetIndexMap[t]&&y.findSetIndex(t),void 0!==y.SetIndexMap[t]&&(t=y.ComponentClasses[t][y.SetIndexMap[t]],e.contains(t))}}).ComponentClasses={FullScreenLyricsBackgroundClass:["lyrics-lyrics-background","RFThkjLuWfPUO9shrMOZ"],FullScreenLyricsContainerClass:["lyrics-lyrics-contentWrapper","t_dtt9KL1wnNRvRO_y5L"],SidebarLyricsBackgroundClass:["main-nowPlayingView-lyricsGradient"],MainLyricsContainerClass:["lyrics-lyrics-container","lofIAg8Ixko3mfBrbfej"],CinemaModeBackgroundToRemove:["x81eiLoZ5zWkSS1y28Oj"],CinemaModeContainerToInjectBackground:["x0lJCeJrx_56dJTWdATl"],LyricClass:["lyrics-lyricsContent-lyric","o69qODXrbOkf6Tv7fa51"],UnsyncedLyricClass:["lyrics-lyricsContent-unsynced","eTLjCqbDo7QehPEPz86a"],HighlightedLyricClass:["lyrics-lyricsContent-highlight","ve52ddYhoAd3Xf27Zxfm"],ActiveLyricClass:["lyrics-lyricsContent-active","_gZrl2ExJwyxPy1pEUG2"]},f.SetIndexMap={},f.SetIndexMapTries={},f.SetIndexMapMaxTries=1e3,h=f,g=[],X=function(e,t){return e=setTimeout(()=>{t()},1e3*e),g.push(e),function(e){clearTimeout(e);e=g.indexOf(e);-1<e&&g.splice(e,1)}.bind(null,e)},Z=4,K=.5,Q=.25,Y=.005,b=n.AddSubCleanup(new i,"Lyrics"),ee=n=>{let s=new Map,r=0,o=(e,t)=>{e.style.fontSize="Active"==t.State?r+K+"rem":""},e=()=>{let t=0;for(var[e,a]of s){e=e.classList;h.checkClassNamesMatch(e,"ActiveLyricClass")?(a.State="Active",t=a.LayoutOrder):h.checkClassNamesMatch(e,"UnsyncedLyricClass")?a.State="Unsynced":h.checkClassNamesMatch(e,"HighlightedLyricClass")?a.State="Sung":a.State="Unsung"}for(var[i,n]of s){var r="Active"===n.State||"Unsynced"===n.State;let e;e=r||t<=1?0:Math.min(Math.abs(n.LayoutOrder-t),Z);r=r?"var(--lyrics-color-active)":"Sung"===n.State?"var(--lyrics-color-passed)":"var(--lyrics-color-inactive)";o(i,n),i.style.color="transparent",i.style.textShadow=`0 0 ${e}px `+r}},t=()=>{var e,t,a=getComputedStyle(n),i=getComputedStyle(document.documentElement),a=parseFloat(a.fontSize),i=parseFloat(i.fontSize);r=a/i;for([e,t]of s)o(e,t)};var a,i,l;for(a of n.childNodes)a instanceof HTMLDivElement&&h.checkClassNamesMatch(a.classList,"LyricClass")&&(i=a,l=void 0,l=Array.from(n.children).indexOf(i),b.AddObserver(new MutationObserver(()=>b.AddTask(X(Y,e),"LyricUpdate"))).observe(i,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),s.set(i,{LayoutOrder:l,State:"Unsung"}));b.AddObserver(new ResizeObserver(()=>b.AddTask(X(Q,t),"ContainerResize"))).observe(document.body),t(),e()},v=null,te=e=>{e=e?h.getComponent("FullScreenLyricsContainerClass",e):null;v!==e&&(v=null,b.Clean(),e)&&ee(v=e)},ae=["lyrics-background-color","lyrics-background-back","lyrics-background-back-center"],S=n.AddSubCleanup(new i,"LiveMainBackgrounds"),k=n.AddSubCleanup(new i,"LiveSidebarBackgrounds"),ie=e=>{var t,a=S.AddHtml(document.createElement("div"));a.classList.add("lyrics-background-container");let i=[];for(t of ae){var n=S.AddHtml(document.createElement("img"));n.classList.add(t),a.appendChild(n),i.push(n)}var r=()=>{var e,t=W()?.Default??"";for(e of i)e.src=t},r=(S.AddTask(u.Connect(r)),r(),()=>{e.classList.contains("lyrics-background")||e.classList.add("lyrics-background")});r(),S.AddObserver(new MutationObserver(r)).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),e.prepend(a),S.AddTask(()=>e.classList.remove("lyrics-background"))},ne=e=>{var t,a=k.AddHtml(document.createElement("div"));a.classList.add("lyrics-background-container"),a.style.zIndex="-1";let i=[];for(t of ae){var n=k.AddHtml(document.createElement("img"));n.classList.add(t),a.appendChild(n),i.push(n)}var r=()=>{var e,t=W()?.Default??"";for(e of i)e.src=t},r=(k.AddTask(u.Connect(r)),r(),()=>{e.classList.contains("lyrics-background")||e.classList.add("lyrics-background")});e.style.position="relative",r(),k.AddObserver(new MutationObserver(r)).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),e.prepend(a),k.AddTask(()=>{e.classList.remove("lyrics-background"),e.style.position=""})},L=w=C=null,re=e=>{var t=e?h.getComponent("FullScreenLyricsBackgroundClass",e):null;C!==t&&(null===t?(C=null,S.Clean()):((C=t).style.background="linear-gradient(90deg, #0a0a0a8a, #0000)",t=e?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.querySelector(".before-scroll-node"),L&&L!==e&&S.Clean(),L=e,t?ie(t):(e=h.getComponent("CinemaModeContainerToInjectBackground",document.body))&&((t=h.getComponent("CinemaModeBackgroundToRemove",e))&&(t.style.background="none"),t=S.AddHtml(document.createElement("div")),e.prepend(t),ie(t))))},se=e=>{e=e?h.getComponent("SidebarLyricsBackgroundClass",e):null;w!==e&&(null===e?(w=null,k.Clean()):ne(w=e))},oe=e=>{re(e),se(e)},x=a(j()),le=a(e()),ce=class{constructor(e,t){this.name=e,this.settingsId=t,this.settingsFields={},this.setRerender=null,this.pushSettings=async()=>{for(Object.entries(this.settingsFields).forEach(([e,t])=>{"button"!==t.type&&void 0===this.getFieldValue(e)&&this.setFieldValue(e,t.defaultValue)});!Spicetify?.Platform?.History?.listen;)await new Promise(e=>setTimeout(e,100));this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(e=>{"/preferences"===e.pathname&&this.render()}),"/preferences"===Spicetify.Platform.History.location.pathname&&await this.render()},this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())},this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if("/preferences"!==Spicetify.Platform.History.location.pathname)return;await new Promise(e=>setTimeout(e,100))}var e=document.querySelector(".main-view-container__scroll-node-child main div");if(!e)return console.error("[spcr-settings] settings container not found");let t=Array.from(e.children).find(e=>e.id===this.settingsId);t?console.log(t):((t=document.createElement("div")).id=this.settingsId,e.appendChild(t)),le.default.render(x.default.createElement(this.FieldsContainer,null),t)},this.addButton=(e,t,a,i,n)=>{this.settingsFields[e]={type:"button",description:t,value:a,events:{onClick:i,...n}}},this.addInput=(e,t,a,i,n,r)=>{this.settingsFields[e]={type:"input",description:t,defaultValue:a,inputType:n,events:{onChange:i,...r}}},this.addHidden=(e,t)=>{this.settingsFields[e]={type:"hidden",defaultValue:t}},this.addToggle=(e,t,a,i,n)=>{this.settingsFields[e]={type:"toggle",description:t,defaultValue:a,events:{onChange:i,...n}}},this.addDropDown=(e,t,a,i,n,r)=>{this.settingsFields[e]={type:"dropdown",description:t,defaultValue:a[i],options:a,events:{onSelect:n,...r}}},this.getFieldValue=e=>JSON.parse(Spicetify.LocalStorage.get(this.settingsId+"."+e)||"{}")?.value,this.setFieldValue=(e,t)=>{Spicetify.LocalStorage.set(this.settingsId+"."+e,JSON.stringify({value:t}))},this.FieldsContainer=()=>{var[e,t]=(0,x.useState)(0);return this.setRerender=t,x.default.createElement("div",{className:"x-settings-section",key:e},x.default.createElement("h2",{className:"e-9640-text encore-text-body-medium-bold encore-internal-color-text-base"},this.name),Object.entries(this.settingsFields).map(([e,t])=>x.default.createElement(this.Field,{nameId:e,field:t})))},this.Field=a=>{var e=this.settingsId+"."+a.nameId;let t;if(t="button"===a.field.type?a.field.value:this.getFieldValue(a.nameId),"hidden"===a.field.type)return x.default.createElement(x.default.Fragment,null);let[i,n]=(0,x.useState)(t),r=e=>{void 0!==e&&(n(e),this.setFieldValue(a.nameId,e))};return x.default.createElement("div",{className:"x-settings-row"},x.default.createElement("div",{className:"x-settings-firstColumn"},x.default.createElement("label",{className:"e-9640-text encore-text-body-small encore-internal-color-text-subdued",htmlFor:e},a.field.description||"")),x.default.createElement("div",{className:"x-settings-secondColumn"},"input"===a.field.type?x.default.createElement("input",{className:"x-settings-input",id:e,dir:"ltr",value:i,type:a.field.inputType||"text",placeholder:a.field.defaultValue,...a.field.events,onChange:e=>{r(e.currentTarget.value);var t=a.field.events?.onChange;t&&t(e)}}):"button"===a.field.type?x.default.createElement("span",null,x.default.createElement("button",{id:e,className:"Button-sc-y0gtbx-0 Button-buttonSecondary-small-useBrowserDefaultFocusStyle encore-text-body-small-bold e-9640-button--small x-settings-button",...a.field.events,onClick:e=>{r();var t=a.field.events?.onClick;t&&t(e)},type:"button"},i)):"toggle"===a.field.type?x.default.createElement("label",{className:"x-toggle-wrapper"},x.default.createElement("input",{id:e,className:"x-toggle-input",type:"checkbox",checked:i,...a.field.events,onClick:e=>{r(e.currentTarget.checked);var t=a.field.events?.onClick;t&&t(e)}}),x.default.createElement("span",{className:"x-toggle-indicatorWrapper"},x.default.createElement("span",{className:"x-toggle-indicator"}))):"dropdown"===a.field.type?x.default.createElement("select",{className:"main-dropDown-dropDown",id:e,...a.field.events,onChange:e=>{r(a.field.options[e.currentTarget.selectedIndex]);var t=a.field.events?.onChange;t&&t(e)}},a.field.options.map((e,t)=>x.default.createElement("option",{selected:e===i,value:t+1},e))):x.default.createElement(x.default.Fragment,null)))}}},de=!1,ue=e=>{de=e},T=(...e)=>de&&console.log("[SBL]:",...e),E=window.fetch,fe=100,I="simple-beautiful-lyrics:cache-lyrics",F=[],N=O=0,pe=e=>JSON.parse(Spicetify.LocalStorage.get("simple-beautiful-lyrics."+e)||"{}")?.value,me=()=>{O>Number.MAX_SAFE_INTEGER-1001&&(O=0),Number.MAX_SAFE_INTEGER-1002<N&&(N=0)},ye=async e=>{for(var t=Date.now();N<e;){if(7500<Date.now()-t)throw new Error("Timeout in waitForTurn");await new Promise(e=>setTimeout(e,100))}},M=()=>{Spicetify.LocalStorage.set(I,JSON.stringify(F)),T("Lyrics Data Bank saved to cache")},A=t=>{F.some(e=>e.gid===t.gid)?T(`Lyrics already exist in 'bank' <${t.gid}>`):(F.length>=fe&&(F.shift(),T("Lyrics Data Bank overflowed, removing oldest entry")),F.push(t),M())},_=()=>{F.length=0,Spicetify.LocalStorage.remove(I),T("Lyrics Data Bank cleared")},he=()=>{var e=Spicetify.LocalStorage.get(I);if(e)try{F.length=0,F.push(...JSON.parse(e)),T("Lyrics Data Bank loaded from cache")}catch(e){console.error("[SBL]: Error while parsing cached data",e),_()}},ge=async(...n)=>{var r=n[0];if("string"==typeof r){if(r.startsWith("https://spclient.wg.spotify.com/color-lyrics/v2/track/")){let i=r.split("/").at(6);if(i){me();try{await ye(O++)}catch(e){return console.error("[SBL]:",e),N++,E(...n)}var s=F.find(e=>e.canonical_ids.includes(i));if(s)return N++,s.data?(T(`Lyrics found in 'bank' <${i}>`),new Response(JSON.stringify(s.data),{status:200,statusText:"OK",headers:new Headers({"Content-Type":"application/json"})})):(T(`Lyrics were found in spotify as available <${i}>`),E(...n));N++;let t=Spicetify.Queue.track?.contextTrack;s=t?.uri?.split(":").at(-1);let a=Spicetify.Queue.nextTracks?.[0]?.contextTrack;var o=a?.uri?.split(":").at(-1),l=F.slice(-5).filter(e=>e.metadata);if(s===i){s=l.find(e=>e.metadata?.artist_name===t.metadata.artist_name&&e.metadata?.title===t.metadata.title);if(s)return s.canonical_ids.push(i),M(),T(`Lyrics found in 'bank' after parse <${i}>`),new Response(JSON.stringify(s.data),{status:200,statusText:"OK",headers:new Headers({"Content-Type":"application/json"})})}else if(o===i){s=l.find(e=>e.metadata?.artist_name===a.metadata.artist_name&&e.metadata?.title===a.metadata.title);if(s)return s.canonical_ids.push(i),M(),T(`Lyrics found in 'bank' after parse <${i}>`),new Response(JSON.stringify(s.data),{status:200,statusText:"OK",headers:new Headers({"Content-Type":"application/json"})})}T(`Lyrics not found in 'bank' after parse <${i}>`)}else console.error("[SBL]: Canonical ID not found in 'color-lyrics' fetch");return E(...n)}if(r.startsWith("https://spclient.wg.spotify.com/metadata/4/track/")){let t=r.split("/").at(6)?.split("?").at(0);if(!t)return console.error("[SBL]: GID not found in 'metadata' fetch"),E(...n);me();try{await ye(O++)}catch(e){return console.error("[SBL]:",e),N++,E(...n)}o=F.find(e=>e.gid===t);if(o)return N++,o.data?(T(`Lyrics found in 'bank' when fetching for 'metadata' <${t}>`),(s=await(l=await E(...n)).clone().json()).has_lyrics=!0,new Response(JSON.stringify(s),{status:l.status,statusText:l.statusText,headers:l.headers})):(T(`Lyrics found in 'bank' but no data when fetching for 'metadata' <${t}>`),E(...n));let e,a;try{e=await E(...n),a=await e.clone().json()}catch(e){return console.error("[SBL]: Error while fetching metadata",e),N++,E(...n)}r=a.canonical_uri.split(":").at(-1);if(a.has_lyrics)return T(`Lyrics found in 'metadata' <${t}>`),A({gid:t,canonical_ids:[r]}),N++,e;o=pe("api-token"),s=await E(`${pe("api-endpoint")??"https://lyrics.kamiloo13.me"}/get?artist=${a.artist[0].name}&track=${a.name}&duration=${Math.round(a.duration/1e3)}&album=${a.album.name}&username=`+Spicetify.Platform.username,o?{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}:void 0).catch(()=>null),l=await s?.json().catch(()=>null);if(N++,!l||!s?.ok)return T(`Lyrics NOT found in 'lyrics.kamiloo13.me' <${t}>`),A({gid:t,canonical_ids:[r]}),e;T(`Lyrics found in 'lyrics.kamiloo13.me' <${t}>`);o={colors:{background:-10848593,highlightText:-1,text:-16777216},hasVocalRemoval:!1,lyrics:{alternatives:[],capStatus:"NONE",isDenseTypeface:!1,isRtlLanguage:!1,language:a.language_of_performance[0],lines:l.lines,previewLines:l.lines.slice(0,5),provider:l.provider,providerDisplayName:l.providerLyricsDisplayName+" (simple-beautiful-lyrics)",providerLyricsId:l.providerLyricsId,syncLyricsUri:"",syncType:l.isSynced?"LINE_SYNCED":"UNSYNCED"}};return A({gid:t,canonical_ids:[r],data:o,metadata:{artist_name:a.artist[0].name,title:a.name}}),a.has_lyrics=!0,new Response(JSON.stringify(a),{status:e.status,statusText:e.statusText,headers:e.headers})}}return E(...n)},be=e=>{window.fetch=e?ge:E,T("Fetch override is now "+(e?"enabled":"disabled")),T(`Lyrics Data Bank had ${F.length} entries`,F),e?(he(),N=O=0,T("Request count: "+O),T("Current request ID: "+N)):(F.length=0,T("Request count: "+O),T("Current request ID: "+N),O=Number.MAX_SAFE_INTEGER-1e3,N=Number.MAX_SAFE_INTEGER-1e3),T(`Lyrics Data Bank has now ${F.length} entries`,F)},B="https://lyrics.kamiloo13.me/api",ve=/^https?:\/\/([\w-]+(\.[\w-]+)+|localhost)(:[0-9]{1,5})?(\/[^\s\?]*)?$/,Se=async function(){let a=new ce("Simple Beautiful Lyrics","simple-beautiful-lyrics");var e=a.getFieldValue("api-endpoint");for(ve.test(e)?a.setFieldValue("api-input-endpoint",e):(a.setFieldValue("api-endpoint",B),a.setFieldValue("api-input-endpoint",B)),a.addToggle("override-fetch","Override Spotify's 'fetch' function to enable searching for alternative lyric sources (app refresh recommended)",!0,()=>{var e=Boolean(a.getFieldValue("override-fetch"));be(e)}),a.addInput("api-input-endpoint",`API Endpoint (default: ${B})`,B,()=>{},"text",{onBlur:e=>{var t=e.target.value;4<t.length&&t===a.getFieldValue("api-endpoint")||(ve.test(t)?(a.setFieldValue("api-endpoint",t),Spicetify.showNotification("API Endpoint saved!")):(e.target.value=B,a.setFieldValue("api-endpoint",B),a.setFieldValue("api-input-endpoint",t),Spicetify.showNotification("Invalid API Endpoint. Default value restored.")))}}),a.addHidden("api-token",""),a.addInput("api-token-input","API Token (optional)","",()=>{},"text",{onBlur:e=>{e=e.target.value;e!==a.getFieldValue("api-token")&&(a.setFieldValue("api-token",e),Spicetify.showNotification("API Token saved!"))}}),a.addToggle("enable-debug","Enable debug logging",!1,()=>{ue(Boolean(a.getFieldValue("enable-debug")))}),a.addButton("clear-cache","Clear Lyrics Cache","Clear",()=>{_(),Spicetify.showNotification("Lyrics cache cleared!")}),a.pushSettings(),"1"!==(e=a.getFieldValue("cache-version"))&&(a.setFieldValue("cache-version","1"),_()),ue(Boolean(a.getFieldValue("enable-debug"))),be(Boolean(a.getFieldValue("override-fetch")));!o&&!z();)await new Promise(e=>setTimeout(e,100));n.AddTask(d.SongChanged.Connect(m)),m(),d.Start(),n.AddObserver(new MutationObserver(()=>{var e=h.getComponents("MainLyricsContainerClass",document.body),e=1==e.length?e[0]:1<e.length?e[1]:null;oe(e),te(e)})).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),e=1==(e=h.getComponents("MainLyricsContainerClass",document.body)).length?e[0]:1<e.length?e[1]:null,oe(e),e=e,n.AddTask(d.SongChanged.Connect(()=>v=null)),te(e)},(async()=>{await Se()})(),(async()=>{var e;document.getElementById("simpleDbeautifulDlyrics")||((e=document.createElement("style")).id="simpleDbeautifulDlyrics",e.textContent=String.raw`
  @font-face{font-family:BeautifulLyrics;font-weight:400;src:url(https://fonts.socalifornian.live/LyricsRegular.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:500;src:url(https://fonts.socalifornian.live/LyricsMedium.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:600;src:url(https://fonts.socalifornian.live/LyricsSemibold.woff2) format("woff2")}@font-face{font-family:BeautifulLyrics;font-weight:700;src:url(https://fonts.socalifornian.live/LyricsBold.woff2) format("woff2")}.MmIREVIj8A2aFVvBZ2Ev,.lyrics-lyricsContent-text{font-family:BeautifulLyrics,var(--encore-body-font-stack, var(--fallback-fonts, sans-serif)),sans-serif!important}.lyrics-lyrics-contentWrapper,.t_dtt9KL1wnNRvRO_y5L{--encore-text-size-larger-3:2.4rem;width:min(100% - 128px,1024px + 10%)!important}.lyrics-lyricsContent-lyric:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important;text-decoration:none!important}.lyrics-lyricsContent-lyric{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important;font-weight:700;margin-bottom:.5em!important}.o69qODXrbOkf6Tv7fa51:hover{text-shadow:0 0 0 var(--lyrics-color-active)!important;text-decoration:none!important}.o69qODXrbOkf6Tv7fa51{--lyrics-color-inactive:rgb(240 240 240 / 51%)!important;font-weight:700;margin-bottom:.5em!important}.lyrics-lyricsContent-active{margin-top:-.25em!important;margin-bottom:.25em!important}._gZrl2ExJwyxPy1pEUG2{margin-top:-.25em!important;margin-bottom:.25em!important}.Root__main-view:has(.lyrics-background) .os-scrollbar,.os-host:has(.lyrics-background) .os-scrollbar{padding:5px}.Root__main-view:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle,.os-host:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle{mix-blend-mode:overlay;background-color:rgba(252,249,249,.117)!important}.lyrics-background{overflow:hidden;position:static}.lyrics-background-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;filter:saturate(1.5) brightness(.8)}.lyrics-background-back,.lyrics-background-back-center,.lyrics-background-color{position:absolute;width:200%;animation:rotate 35s linear infinite;filter:blur(40px);border-radius:100em}.lyrics-background-color{right:0;top:0;z-index:10}.lyrics-background-back{left:0;bottom:0;z-index:1;animation-direction:reverse}.lyrics-background-back-center{z-index:0;width:300%;right:-50%;top:-20%;animation-direction:reverse}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}:root{--beautiful-lyrics-random-degree:258deg}@keyframes rotate{0%{transform:rotate(var(--beautiful-lyrics-random-degree))}100%{transform:rotate(calc(var(--beautiful-lyrics-random-degree) + 360deg))}}
      `.trim(),document.head.appendChild(e))})()})();